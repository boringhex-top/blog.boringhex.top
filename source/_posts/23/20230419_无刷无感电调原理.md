---
title: 无刷无感电调原理
date: 2023-04-18 22:43:46
categories:
tags:
  - 电机
---

*本文在[《无感无刷直流电机之电调设计全攻略》](https://d1.amobbs.com/bbs_upload782111/files_31/ourdev_570001.pdf)文章基础上做补充*

电调开发难易排序：低压低速小负载有感电调 < 高压高速大负载无感电调

要注意的事项：内转子还是外转子电机、mos管选型、mos管限流电阻选取、mos管栅极驱动器选择、高低压分离、大电压回路、布局（寄生电感）、电流采样电阻功率、电流放大电路（差压取观测点）、ad直接采样的时间选取、硬件过零检测的滤波电容和分压电阻选择、电压比较器的供电电压、散热、控制pwm频率、开环启动（升频升压）、开闭环切换、过零点检测算法、停转处理、丢步处理、堵转处理、过流过压处理、消磁处理（大负载）、pwm丢失处理、pmw输入滤波、进角设置、共频噪声、调试信息回传电路（电机转不好仿真）···

<!-- more -->


## 电机电感：

![RLC电路示意图](https://imgs.boringhex.top/blog/20191208112540988.png)

![三相驱动电路](https://imgs.boringhex.top/blog/1.png)

如上图，假如右边AB相导通的电机电感是左边电感，那么左边电感上面的电阻就是右边电源从正到地的线电阻和mos电阻，正常通电时，电感电流从左流到右边

当AB相断开，即电感和电源断开时，电感电流如下，仍然从左到右，但会造成线电压的升高，如果电感上面没有那个泄流电阻，那么电感上的电流会流过其它你不想让过电流的器件，造成其它器件损坏；下图1是线电阻和mos电阻小的情况，下图2是线电阻和mos电阻大的情况，图1相对好一些。

![电阻小](https://imgs.boringhex.top/blog/20191208113359333.png)

![电阻大](https://imgs.boringhex.top/blog/2.png)

至于为什么这么大反向电压在相电压处没有检测出来，如下图，被箭头上的续流二极管钳住了，椭圆处的电压比地小0.7v，这是上管关闭的情况；当下管关闭时候，从B线圈出来的电流将通过上管流向电源电压，所以B相电压此时是电源电压+0.7v；虽然被钳到0.7v，但是如果线电阻和mos电阻过大，造成二极管两端电压过大，击穿二极管。

![mos体二极管的钳位作用](https://imgs.boringhex.top/blog/3.png)

 

## 波形分析：

![毛刺](https://imgs.boringhex.top/blog/20191208120131646.png)

![反向电压干扰](https://imgs.boringhex.top/blog/4.png)

上面两图都是有问题的，上面是电源电压波形，波动太大，一般是电容取的不合适或者放置位置不合适或者示波器探头位置不合适；下边问题特别大，相电压过充特别严重，相电压还接到栅极驱动器上，很容易烧坏驱动器或烧mos，有以下几种原因：

1. mos管限流电阻取值过小，开关过快；
2. 线电阻/mos电阻过大；
3. 寄生电感和电容使mos管G级震荡；程序原因造成换向期间mos快速开关；

解决办法：

1. 测G极波形；
2. 示波器接地线接到靠近mos管D极电源端，探头放在S极不同位置，判断是从哪个位置引入的大电压，同时排除mos管原因。

下图是正常波形

![正常的梯形波](https://imgs.boringhex.top/blog/5.png)

 

## 自举电路

![自举电路原理示意](https://imgs.boringhex.top/blog/6.png)
