---
title: 电流测量应用中的开尔文连接
date: 2024-03-11 11:24:53
categories:
tags:
    - 硬件
---


"开尔文连接"（Kelvin connection）是一种电路连接方法，用于测量电阻或电压时减少导线电阻的影响。它通常用于精密测量和低电阻值的应用中。通过使用四根导线，将测量电压施加在被测电阻的两端，并将电流引入被测电阻的两端，可以最大限度地消除导线电阻的影响，从而提高测量的准确性。

在高精度电流测量应用中，开尔文连接可以用于测量电流采样电阻的输出。电流采样电阻的输出是一个与电流成正比的电压。在测量电流采样电阻的输出时，开尔文连接可以减少焊料电阻对测量结果的影响。焊料电阻在绝大多数应用中都是忽略不计的，以一个2512封装的电阻为例，经过回流焊后，两个焊盘的焊料电阻大约在0.15mΩ左右，对于15mΩ以上的电阻来说，焊料电阻不到1%，可以忽略不计。到时在高精度应用中，尤其是大电流高精度测量中，采样电阻的值可能会很小，比如1mΩ，这时焊料电阻就不能忽略不计了，这时就必须精心设计采样电阻的连接方式，甚至需要加入一些校准和补偿措施，才能保证测量结果的准确性。与此同时，我们可以看到很多厂商也为高精度电流采样开发了专用的电阻器，比如下面几种：

![电流采样专用电阻](https://imgs.boringhex.top/blog/20240311150107.png)

<!-- more -->

其实基本思路就是减小焊料电阻，增大焊料截面积、减小长度，采用开尔文连接。

专用的肯定比通用的贵，今天我们讨论下如何通过PCB设计来实现开尔文连接，提高测量精度。

有些朋友可能注意到了[INA226模块](https://mp.weixin.qq.com/s?__biz=MzA3NzMyNTIyOA==&mid=2651482424&idx=1&sn=5676fb2123294c17a611775965b1f1b1&chksm=84ad7ffbb3daf6eda6cc972bc08e5b0d0781651bada60ca906423fd59090a7f3794fed190d9a#rd)上采样电阻的焊盘是4个，而不是常规的2个，这就是开尔文连接。

![INA226模块电流采样电阻的连接](https://imgs.boringhex.top/blog/20240311151810.png)

INA226模块上的电流采样电阻是一个20mΩ的合金电阻，低温度系数，这也是电流测量应用中对采样电阻选型需要注意的地方，不是所有电阻都适合用于电流测量，温度系数大的电阻，温度变化会导致测量结果的偏差。但是模块上选用的电阻并没有专用的开尔文连接端，而是常规的2个焊接端。

ADI在很久以前的一篇文章[改进低值分流电阻的焊盘布局，优化高电流检测精度](https://www.analog.com/cn/resources/analog-dialogue/articles/optimize-high-current-sensing-accuracy.html)中讨论了这个问题。这篇文章中，ADI的工程师提出了一种通过PCB设计来实现开尔文连接的方法，通过这种方法，可以在常规的电阻上实现开尔文连接，提高测量精度。

ADI的工程师设计了一个测试板来评估不同焊盘设计对测量结果的影响：

![测试板](https://imgs.boringhex.top/blog/20240311152648.png)

测试中使用了一个0.5mΩ、3W的2512封装的电阻，其容差为1%（型号：ULRG3-2512-0M50-FLFSLT制造商：[Welwyn/TTelectronics](http://welwyn-tt.com/)）。常规的4焊盘布局：

![(a) ULRG3-2512-0M50-FLFSLT电阻的外形尺寸；(b) 标准4焊盘封装。](https://imgs.boringhex.top/blog/20240311153330.png)

## 常规开尔文封装

对于开尔文检测，必须将标准双线封装焊盘进行拆分，以便为系统电流和检测电流提供独立的路径。图3显示了此类布局的一个例子。系统电流用红色箭头表示的路径。如果使用一种简单的双焊盘布局，则总电阻为：

![](https://imgs.boringhex.top/blog/20240311153610.png)

为了避免增加电阻，需要把电压检测走线正确的布局到检测电阻焊盘处。系统电流将在上部焊点导致显著的压降，但检测电流则会在下部焊点导致可以忽略不计的压降。可见，这种焊盘分离方案可以消除测量中的焊点电阻，从而提高系统的总体精度。

![开尔文连接](https://imgs.boringhex.top/blog/20240311153646.png)

## 优化开尔文封装

上图所示布局是对标准双焊盘方案的一种显著的改进，但是，在使用极低值电阻（0.5 mΩ或以下）时，焊盘上检测点的物理位置以及流经电阻的电流对称性的影响将变得更加显著。例如，ULRG3-2512-0M50-FLFSL是一款固态金属合金电阻，因此，电阻沿着焊盘每延伸一毫米，结果都会影响有效电阻。使用校准电流，通过比较五种定制封装下的压降，可以确定优质检测布局。

## 测试PCB板

下面展示在测试PCB板上构建的五种布局模式，分别标记为A到E。我们尽可能把走线布局到沿着检测焊盘延伸的不同位置的测试点，表示为图中的彩点。各个电阻封装为：

A. 基于2512建议封装的标准4线电阻（见图2(b)）。检测点对(X 和 Y)位于焊盘外缘和内缘（x轴）。

B. 类似于A，但焊盘向内延伸较长，以便更好地覆盖焊盘区（见图2(a)）。检测点位于焊盘中心和末端。

C. 利用焊盘两侧以提供更对称的系统电流通路。同时把检测点移动到更中心的位置。检测点位于焊盘中心和末端。

D. 与C类似，只是系统电流焊盘在最靠里的点接合。只使用了外部检测点。

E. A和B的混合体。系统电流流过较宽的焊盘，检测电流流过较小的焊盘。检测点位于焊盘的外缘和内缘。

![测试PCB布局](https://imgs.boringhex.top/blog/20240311154015.png)

在测试板上涂抹焊料，并在回流炉中使用回流焊接。使用的是ULRG3-2512-0M50-FLFSLT电阻。

## 测试步骤

测试设计如下图所示。使20A的校准电流通过各个电阻，同时使电阻保持在25°C。在加载电流后1秒内，测量产生的差分电压，以防止电阻温度升高1°C以上。同时监控各个电阻的温度，以确保测试结果均在25°C下测得。电流为20A时，通过0.5mΩ电阻的理想压降为10mV。

![测试设置](https://imgs.boringhex.top/blog/20240311154247.png)

## 测试结果

表1列出了采用图4所示检测焊盘位置测得的数据。

表1. 测得电压和误差

| 封装 | 检测焊盘     | 测得值(mV) | 误差(%)  |
|:---:|:--------:|:-------:|:------:|
| A  | Y        | 9.55    | 4.5    |
|    | X        | 9.68    | 3.2    |
| B  | Y        | 9.50    | 5      |
|    | X        | 9.55    | 4.5    |
| C  | Y        | 9.80    | 2      |
|    | X        | 9.90    | 1      |
| D  | X        | 10.06   | 0.6    |
| E  | Y        | 9.59    | 4.1    |
|    | X        | 9.60    | 4      |
|    | Top pad* | 12.28   | 22.8   |

*无开尔文检测。对通过高电流主焊盘的电压进行测量，以展示与焊料电阻相关的误差。

## 观察结果

由于结果的可比较性以及各电阻偏差都在容限范围之内，所以得出封装C和D的误差最少。封装C为首选封装，因为它不大可能导致与元件放置容限相关的问题。

在每一种情况下，电阻外端的检测点提供的结果准确。这表明，这些电阻是制造商根据电阻的总长度设计的。

请注意，在未使用开尔文检测时，焊料电阻相关误差是22%。这相当于约0.144 mΩ的焊料电阻。

封装E展示了不对称焊盘布局的效应。回流期间，元件通过大量焊料才能焊盘。应避免这种封装。

## 结论

根据前面所示结果，最佳封装是C，其预期测量误差小于1%。该封装的建议尺寸如图6所示。

![最佳封装尺寸](https://imgs.boringhex.top/blog/20240311155030.png)

检测走线的布局也会影响测量精度。为了实现更高精度，应在电阻边缘测量检测电压。图7所示建议布局采用通孔，把焊盘外边缘布局到另一层，从而避免切割主电源层。

![建议PCB走线](https://imgs.boringhex.top/blog/20240311155159.png)

其实对ADI文章中的测试结果，我认为还不够充分，至少在文章中作者没有提到交叉测试，也没有用更多的样板进行测试和统计分析。但是这并不妨碍我们从中学习焊料电阻影响测量结果的分析思路，也可以从中学习优化采样电阻封装焊盘设计来提高测量精度的方法。还是那句话，不要学习死知识死经验，要重视分析思路和方法，这才是最重要的。