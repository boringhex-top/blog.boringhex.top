---
title: INA226数据表详解
date: 2024-03-10 11:24:53
categories:
tags:
    - 硬件
---

# INA226数据表详解

## 简介

INA226是一种电流电压监测器，具有I2C或SMBUS兼容接口。该设备监测电流电压降和总线供电电压。可编程的校准值、转换时间和平均值，结合内部乘法器，使得直接读出电流（安培）和功率（瓦特）成为可能。INA226感知的电流是在公共模式总线电压上，该电压可以独立于供电电压在0V至36V之间变化。该设备从单一2.7V至5.5V的供电中工作，典型的供电电流为330μA。该设备在-40°C至125°C的工作温度范围内指定，并在I2C兼容接口上具有最多16个可编程地址。

## 特性

- 感测0V至36V的总线电压
- 高侧或低侧感知
- 报告电流、电压和功率
- 高精度：最大0.1%增益误差，最大10μV偏移
- 可配置的平均选项
- 16个可编程地址
- 从2.7V至5.5V电源供电
- 10引脚，DGS（VSSOP）封装

## 典型高侧或低侧电流监测应用

![高/低侧监测应用](https://imgs.boringhex.top/blog/20240310112046.png)

<!-- more -->

## 绝对最大额定值

![绝对最大额定值](https://imgs.boringhex.top/blog/20240310113221.png)

电源电压这个很好理解，就是电源引脚电压超过6V，芯片可能变呲花，这个是芯片电源引脚最大允许电压。一般来说，良心厂商这个值会保守一些，短时超一点也问题不大。

第二项是模拟输入引脚电压范围，差分±40V，共模-0.3V至+40V。这个是芯片能够感测的电压范围，差分输入电压范围是差分输入两个引脚之间的电压范围，共模输入电压范围是差分输入两个引脚电压和的一半，这个表格给的很明确，避免了很多同学不会计算共模电压，只要感测电阻电流输入端电压不超过40V就没问题。共模信号的分析常被大家忽略，共模信号超过芯片范围会导致不能正常工作。

$V_{VBUS}$、$V_{SDA}$、$V_{SCL}$描述的是这VBUS、SDA、SCL这三个引脚的电压输入范围。

$I_{IN}$是任意引脚的输入电流最大值，为5mA，其实只要满足引脚电压没超过最大限值，输入电流是不会超的，这个参数主要是为给应用中SDA电压和上拉电阻选择提供限值。$I_{OUT}$是开漏输出引脚输出电流，最大10mA，开漏输出引脚只有Alert引脚，那么Alert引脚的最大电流到底是5mA，还是10mA呢？

$T_{J}$是结温，对芯片来说就是芯片内部晶元温度。$T_{stg}$是存储温度，对芯片来说，通常运输过程也包含在内，超过这个温度范围，芯片可能损坏。

*ESD Ratings*、*Recommended Operating Conditions*、*Thermal Information*分别描述了芯片的抗静电放电能力、推荐工作条件和热信息。对于INA226来说，功耗非常低，只要不是在大功率热源附近，基本不用考虑散热问题。

## 电气特性

![INA226电气特性](https://imgs.boringhex.top/blog/20240310122339.png)

看电气特性参数表时一定要养成先看测试条件的习惯，先明确测试条件，测试的参数结果才有意义，才能了解芯片的真实性能，才能知道芯片在应用中的边界和限制。

### 输入

从上图可以看出，参数表中的大多数参数测试条件都是在25℃环境温度，3.3V电源电压，$V_{IN+}=V_{IN-}=12V$，$V_{VBUS}=12V$这个条件下测得的。问题来了，此时共模电压多少？

电流感测电压输入范围是-81.9175mV到81.92mV，注意把这个电压范围跟前面的差分输入电压范围区分开，前面那个是最大额定值，超过了芯片可能就挂了。这个是正常工作的感测电压范围，也就是ADC转换的电压范围，超过这个范围芯片没问题，但是测量结果就错了。总线电压感测范围就是电压和功率测量时的电压范围，这个要注意哈，表格下边的备注也给出提示，其实电压测量时ADC的满量程是40.96V，但是测量时绝不能超过36V。

*CMRR*，共模抑制比，这个参数是芯片对共模电压的抑制能力，值越大，对共模信号抑制能力越强，越抗干扰。

*PSRR*，电源抑制比，这个参数是芯片输入对电源干扰的抑制能力，我们看到表中给出2个，一个是电流测量对电源干扰的抑制，另一个是电压测量对电源干扰的抑制。

*$V_{OS}$*，失调电压，这个参数描述的是芯片IN+和IN-间的失调，或者说不对称不平衡的情况，理想运放两个输入端电压相同时输出为0，即失调为0。但实际做不到完全对称，所以必然会有失调，这个失调的表现就是当两个输入端电压相同时依然有输出。可以看到表中分别给出了电流测量和电压测量的失调电压，并给出了对应失调的温度漂移，温漂越小，说明工作温度变化对测量结果的影响越小。

*$I_B$*，输入偏置电流，这个参数描述的是芯片工作时输入引脚所需的灌电流，理想情况为0，这样芯片在工作时对感测电阻不会有任何分流，对测量结果没有任何影响，但实际做不到，在测量时这个支路会有电流，对干路电流就会有分流，对测量结果就会有影响，偏置电流越小，说明输入阻抗越大，影响越小。可以看到VBUS的偏置电流是以输入阻抗的形式给出的，说明这个引脚的是输入阻抗是相对固定的，输入偏置电流随输入电压线性变化。

### 直流精度

ADC分辨率为16位，电流测量为2.5uV/LSB，电压测量为1.25mV/LSB。电流测量时实际的电流分辨率跟使用的感测电阻有关，比如在[之前介绍的模块](https://mp.weixin.qq.com/s?__biz=MzA3NzMyNTIyOA==&mid=2651482424&idx=1&sn=5676fb2123294c17a611775965b1f1b1&chksm=84ad7ffbb3daf6eda6cc972bc08e5b0d0781651bada60ca906423fd59090a7f3794fed190d9a#rd)中，我使用的是20mΩ电流感测电阻，则对应的电流测量分辨率为2.5uV/LSB/20mΩ=125uA/LSB。

电压增益误差是信号处理过程的误差，一般以百分比表示，从数据表中可以看到INA226的电压增益误差最大为0.1%，这意味着如果我们测量的电压是1V，INA226给出的结果可能是0.999V到1.001V中的某个值。

增益漂移描述的是电压增益误差随工作温度的变化情况，ppm是百万分之一，parts per million。

差分非线性度描述的是芯片测量结果与分辨率理想直线之间的偏离程度，前面提到电压测量分辨率为1.25mV/LSB，理想情况是每个LSB都是1.25mV，那100LSB就应该是125mV，在ADC量化过程中，125mV到126.25mV的量化结果都是100LSB，而因为非线性误差的存在，则有些INA226芯片测量125mV - 0.1LSB * 1.25mV/LSB = 124.875mV时，输出结果就是100LSB了。这个非线性度既表现在芯片和芯片之间的差异上，也会表现在同一芯片不同转换结果之间的差异上。

ADC转换时间描述的是从触发输入信号采样到输出结果的时间，越短说明转换越快，从表中可以看出INA226最快可以配置到140us，如果不配置均值输出的话，约6kSPS，对电量计算来说已经足够高了。

数据表后面是数字接口相关参数，相对比较好理解，就不再赘述。